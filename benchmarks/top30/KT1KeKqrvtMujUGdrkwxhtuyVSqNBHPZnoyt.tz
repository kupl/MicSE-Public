parameter (or
            (or
              (or (unit %depositTokens)
                  (pair %enrollParticipant (address %address) (nat %poolWeight)))
              (or
                (pair %lockupLiquidity (pair (address %dexAddress) (bool %isTokenAdded))
                                       (nat %tokenAmount)
                                       (mutez %xtzAmountToLP))
                (unit %participatePrivateSale)))
            (or (or (unit %participatePublicSale) (nat %rescueFunds))
                (or (list %whitelistForPrivateSale address)
                    (or (list %whitelistForPublicSale address) (unit %withdrawTokens)))));
storage (pair
          (pair
            (pair
              (pair (address %admin) (pair %amountToLP (nat %maxTokens) (nat %percentageOfRevenue)))
              (pair %contracts (address %adminFactory) (address %lockup))
              (pair %details (set %participants address)
                             (big_map %sale address
                                            (pair
                                              (pair
                                                (map %SaleMap nat
                                                              (pair
                                                                (pair (nat %amountOfTokensReceived)
                                                                      (mutez %amountXTZPaid))
                                                                (bool %isWithdrawn)
                                                                (timestamp %timestamp)))
                                                (mutez %amountSpendInPublicSale)
                                                (nat %counter))
                                              (bool %isWithdrawn)
                                              (mutez %netPoolContribution)
                                              (nat %totalTokens)))))
            (pair (big_map %enrolledParticipants address nat) (mutez %maxParticipation))
            (pair %saleAllocation (nat %private) (nat %total))
            (pair %saleStats (nat %soldInPrivateSale) (nat %totalSold) (mutez %xtzRaised)))
          (pair (pair (address %stakingContract) (nat %status))
                (pair %time (pair %private (timestamp %end) (timestamp %start))
                            (pair %public (timestamp %end) (timestamp %start))
                            (timestamp %tokenUnlock))
                (nat %timeBlock))
          (pair (pair %token (nat %ID) (address %address) (nat %decimals))
                (pair %tokenPrice (mutez %DEX) (mutez %private) (mutez %public)))
          (big_map %tokensDistribution address
                                       (pair (nat %distributedSoFar) (nat %status)
                                             (nat %totalTokens)))
          (nat %totalPoolWeight)
          (pair %whitelist (bool %isPublic) (set %private address) (set %public address)));
code { UNPAIR ;
       IF_LEFT
         { IF_LEFT
             { IF_LEFT
                 { DROP ;
                   DUP ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   PUSH nat 0 ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                   DUP ;
                   CAR ;
                   CAR ;
                   CAR ;
                   GET 3 ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   GET 5 ;
                   CDR ;
                   ADD ;
                   DUP ;
                   PUSH nat 0 ;
                   COMPARE ;
                   LT ;
                   IF {} { PUSH string "NEED_MORE_THAN_ZERO" ; FAILWITH } ;
                   NIL operation ;
                   DUP 3 ;
                   GET 5 ;
                   CAR ;
                   GET 3 ;
                   CONTRACT %transfer (list (pair address (list (pair address (pair nat nat))))) ;
                   IF_NONE { PUSH int 498 ; FAILWITH } {} ;
                   PUSH mutez 0 ;
                   NIL (pair address (list (pair address (pair nat nat)))) ;
                   NIL (pair address (pair nat nat)) ;
                   DIG 5 ;
                   DUP 7 ;
                   GET 5 ;
                   CAR ;
                   CAR ;
                   SELF_ADDRESS ;
                   PAIR 3 ;
                   CONS ;
                   SENDER ;
                   PAIR ;
                   CONS ;
                   TRANSFER_TOKENS ;
                   CONS ;
                   PUSH nat 0 ;
                   DUP 3 ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   CAR ;
                   PUSH nat 1 ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   SWAP }
                 { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   SENDER ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   DUP 6 ;
                   CDR ;
                   SOME ;
                   DUP 7 ;
                   CAR ;
                   UPDATE ;
                   PAIR ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   DUP ;
                   GET 9 ;
                   DIG 2 ;
                   CDR ;
                   ADD ;
                   UPDATE 9 ;
                   NIL operation } }
             { IF_LEFT
                 { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   SENDER ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "NOT_ADMIN" ; FAILWITH } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   GET 3 ;
                   GET 3 ;
                   GET 3 ;
                   CAR ;
                   NOW ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "SALE_NOT_STARTED" ; FAILWITH } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   GET 3 ;
                   GET 3 ;
                   CAR ;
                   CAR ;
                   NOW ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "SALE_NOT_STARTED" ; FAILWITH } ;
                   SWAP ;
                   DUP ;
                   CAR ;
                   GET 9 ;
                   SWAP ;
                   DUP ;
                   DUG 3 ;
                   CAR ;
                   GET 5 ;
                   CDR ;
                   SUB ;
                   ISNAT ;
                   IF_NONE { PUSH int 412 ; FAILWITH } {} ;
                   DUP 3 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   GET 3 ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   ADD ;
                   DUP ;
                   PUSH nat 0 ;
                   COMPARE ;
                   LT ;
                   IF
                     { NIL operation ;
                       DUP 5 ;
                       GET 5 ;
                       CAR ;
                       GET 3 ;
                       CONTRACT %transfer (list (pair address (list (pair address (pair nat nat))))) ;
                       IF_NONE { PUSH int 498 ; FAILWITH } {} ;
                       PUSH mutez 0 ;
                       NIL (pair address (list (pair address (pair nat nat)))) ;
                       NIL (pair address (pair nat nat)) ;
                       DUP 6 ;
                       DIG 9 ;
                       DUP ;
                       GET 5 ;
                       CAR ;
                       CAR ;
                       SWAP ;
                       DUP ;
                       DUG 11 ;
                       CAR ;
                       CAR ;
                       GET 3 ;
                       CDR ;
                       PAIR 3 ;
                       CONS ;
                       SELF_ADDRESS ;
                       PAIR ;
                       CONS ;
                       TRANSFER_TOKENS ;
                       CONS }
                     { NIL operation } ;
                   PUSH bool True ;
                   DUP 5 ;
                   CAR ;
                   CDR ;
                   COMPARE ;
                   EQ ;
                   IF
                     { SWAP ;
                       DROP ;
                       SWAP ;
                       DROP ;
                       DUP 3 ;
                       CAR ;
                       CAR ;
                       GET 3 ;
                       CDR ;
                       CONTRACT %addLiquidity (pair address (pair nat mutez)) ;
                       IF_NONE { PUSH int 428 ; FAILWITH } {} ;
                       BALANCE ;
                       DIG 3 ;
                       DUP ;
                       GET 4 ;
                       SWAP ;
                       DUP ;
                       GET 3 ;
                       SWAP ;
                       CAR ;
                       CAR ;
                       PAIR 3 ;
                       TRANSFER_TOKENS ;
                       CONS }
                     { PUSH mutez 1 ;
                       DUP 6 ;
                       CAR ;
                       GET 10 ;
                       EDIV ;
                       IF_NONE { UNIT ; FAILWITH } {} ;
                       CAR ;
                       DUP ;
                       PUSH mutez 1 ;
                       DUP 8 ;
                       GET 5 ;
                       GET 3 ;
                       EDIV ;
                       IF_NONE { UNIT ; FAILWITH } {} ;
                       CAR ;
                       DUP ;
                       DUP 4 ;
                       EDIV ;
                       IF_NONE { PUSH int 448 ; FAILWITH } { CAR } ;
                       DUP 9 ;
                       CAR ;
                       CAR ;
                       CAR ;
                       GET 3 ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       COMPARE ;
                       GT ;
                       IF
                         { DROP ;
                           DIG 2 ;
                           DROP ;
                           DIG 3 ;
                           DROP ;
                           DIG 3 ;
                           DROP ;
                           DUP 5 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           GET 3 ;
                           SWAP ;
                           DUP 6 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           GET 3 ;
                           MUL ;
                           DROP }
                         { SWAP ; DROP ; DIG 2 ; DROP ; DIG 3 ; DROP ; DIG 3 ; DROP } ;
                       DIG 2 ;
                       DUP 5 ;
                       CAR ;
                       CAR ;
                       GET 3 ;
                       CDR ;
                       CONTRACT %launchDexAndAddLiquidity (pair address (pair nat mutez)) ;
                       IF_NONE { PUSH int 462 ; FAILWITH } {} ;
                       BALANCE ;
                       PUSH mutez 1 ;
                       DIG 5 ;
                       MUL ;
                       DUP 7 ;
                       GET 5 ;
                       CAR ;
                       GET 4 ;
                       DIG 5 ;
                       MUL ;
                       DIG 5 ;
                       CAR ;
                       CAR ;
                       PAIR 3 ;
                       TRANSFER_TOKENS ;
                       CONS } ;
                   PUSH nat 1 ;
                   DUP 3 ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   CAR ;
                   PUSH nat 2 ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   SWAP }
                 { DROP ;
                   DUP ;
                   GET 3 ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   NOW ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "SALE_NOT_STARTED" ; FAILWITH } ;
                   DUP ;
                   GET 3 ;
                   GET 3 ;
                   CAR ;
                   CAR ;
                   NOW ;
                   COMPARE ;
                   LE ;
                   IF {} { PUSH string "SALE_ENDED" ; FAILWITH } ;
                   DUP ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   PUSH nat 1 ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                   DUP ;
                   GET 13 ;
                   SENDER ;
                   MEM ;
                   IF {} { PUSH string "NOT_WHITELISTED" ; FAILWITH } ;
                   PUSH mutez 1 ;
                   AMOUNT ;
                   EDIV ;
                   IF_NONE { UNIT ; FAILWITH } {} ;
                   CAR ;
                   PUSH mutez 1 ;
                   DUP 3 ;
                   GET 5 ;
                   GET 5 ;
                   EDIV ;
                   IF_NONE { UNIT ; FAILWITH } {} ;
                   CAR ;
                   DUP 3 ;
                   GET 5 ;
                   CAR ;
                   GET 4 ;
                   DIG 2 ;
                   MUL ;
                   EDIV ;
                   IF_NONE { PUSH int 265 ; FAILWITH } { CAR } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   GET 3 ;
                   CAR ;
                   SENDER ;
                   MEM ;
                   IF {} { PUSH string "NOT_ENROLLED" ; FAILWITH } ;
                   SWAP ;
                   DUP ;
                   GET 9 ;
                   SWAP ;
                   DUP ;
                   CAR ;
                   GET 5 ;
                   CAR ;
                   SWAP ;
                   DUP ;
                   DUG 4 ;
                   CAR ;
                   GET 3 ;
                   CAR ;
                   SENDER ;
                   GET ;
                   IF_NONE { PUSH int 551 ; FAILWITH } {} ;
                   MUL ;
                   EDIV ;
                   IF_NONE { PUSH int 555 ; FAILWITH } { CAR } ;
                   DUP 3 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   MEM ;
                   IF
                     {}
                     { DIG 2 ;
                       UNPAIR ;
                       UNPAIR ;
                       UNPAIR ;
                       SWAP ;
                       UNPAIR ;
                       SWAP ;
                       DUP ;
                       CDR ;
                       PUSH (option (pair
                                  (pair (map nat (pair (pair nat mutez) (pair bool timestamp)))
                                        (pair mutez nat))
                                  (pair bool (pair mutez nat)))) (Some (Pair (Pair {} (Pair 0 0)) (Pair False (Pair 0 0)))) ;
                       SENDER ;
                       UPDATE ;
                       UPDATE 2 ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       DUG 2 } ;
                   DUP 3 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   GET ;
                   IF_NONE { PUSH int 278 ; FAILWITH } {} ;
                   GET 6 ;
                   DUP 3 ;
                   ADD ;
                   COMPARE ;
                   LE ;
                   IF {} { PUSH string "EXCEEDING_MAX_AMOUNT" ; FAILWITH } ;
                   DUP ;
                   INT ;
                   DIG 2 ;
                   DUP ;
                   CAR ;
                   GET 9 ;
                   SWAP ;
                   DUP ;
                   DUG 4 ;
                   CAR ;
                   GET 5 ;
                   CDR ;
                   SUB ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "NEED_MORE_THAN_ZERO" ; FAILWITH } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   GET 5 ;
                   CAR ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP 4 ;
                   CAR ;
                   GET 7 ;
                   ADD ;
                   COMPARE ;
                   LE ;
                   IF {} { PUSH string "NEED_MORE_THAN_ZERO" ; FAILWITH } ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   DUP ;
                   CAR ;
                   DUP 7 ;
                   ADD ;
                   UPDATE 1 ;
                   DUP ;
                   GET 3 ;
                   DUP 7 ;
                   ADD ;
                   UPDATE 3 ;
                   DUP ;
                   GET 4 ;
                   AMOUNT ;
                   ADD ;
                   UPDATE 4 ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   MEM ;
                   IF
                     {}
                     { SWAP ;
                       UNPAIR ;
                       UNPAIR ;
                       UNPAIR ;
                       SWAP ;
                       UNPAIR ;
                       SWAP ;
                       DUP ;
                       CDR ;
                       PUSH (option (pair
                                  (pair (map nat (pair (pair nat mutez) (pair bool timestamp)))
                                        (pair mutez nat))
                                  (pair bool (pair mutez nat)))) (Some (Pair (Pair {} (Pair 0 0)) (Pair False (Pair 0 0)))) ;
                       SENDER ;
                       UPDATE ;
                       UPDATE 2 ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       SWAP } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   GET ;
                   IF_NONE { PUSH int 539 ; FAILWITH } {} ;
                   CAR ;
                   GET 4 ;
                   DIG 2 ;
                   UNPAIR ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 542 ; FAILWITH } {} ;
                   UNPAIR ;
                   UNPAIR ;
                   NOW ;
                   PUSH bool False ;
                   PAIR ;
                   AMOUNT ;
                   DUP 14 ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   DIG 11 ;
                   UPDATE ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 543 ; FAILWITH } {} ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   PUSH nat 1 ;
                   ADD ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CAR ;
                   PUSH bool True ;
                   SENDER ;
                   UPDATE ;
                   UPDATE 1 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 299 ; FAILWITH } {} ;
                   DUP ;
                   GET 5 ;
                   AMOUNT ;
                   ADD ;
                   UPDATE 5 ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 302 ; FAILWITH } {} ;
                   DUP ;
                   GET 6 ;
                   DIG 9 ;
                   ADD ;
                   UPDATE 6 ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   NIL operation } } }
         { IF_LEFT
             { IF_LEFT
                 { DROP ;
                   DUP ;
                   GET 3 ;
                   GET 3 ;
                   GET 3 ;
                   CDR ;
                   NOW ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "SALE_NOT_STARTED" ; FAILWITH } ;
                   DUP ;
                   GET 3 ;
                   GET 3 ;
                   GET 3 ;
                   CAR ;
                   NOW ;
                   COMPARE ;
                   LE ;
                   IF {} { PUSH string "SALE_ENDED" ; FAILWITH } ;
                   DUP ;
                   GET 3 ;
                   CAR ;
                   CDR ;
                   PUSH nat 1 ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                   DUP ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   MEM ;
                   IF
                     {}
                     { DUP ;
                       CAR ;
                       CAR ;
                       GET 6 ;
                       SENDER ;
                       MEM ;
                       IF
                         {}
                         { UNPAIR ;
                           UNPAIR ;
                           UNPAIR ;
                           SWAP ;
                           UNPAIR ;
                           SWAP ;
                           DUP ;
                           CDR ;
                           PUSH (option (pair
                                      (pair (map nat (pair (pair nat mutez) (pair bool timestamp)))
                                            (pair mutez nat))
                                      (pair bool (pair mutez nat)))) (Some (Pair (Pair {} (Pair 0 0)) (Pair False (Pair 0 0)))) ;
                           SENDER ;
                           UPDATE ;
                           UPDATE 2 ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           PAIR ;
                           PAIR } } ;
                   DUP ;
                   CAR ;
                   GET 3 ;
                   CDR ;
                   AMOUNT ;
                   DUP 3 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   GET ;
                   IF_NONE { PUSH int 216 ; FAILWITH } {} ;
                   CAR ;
                   GET 3 ;
                   ADD ;
                   COMPARE ;
                   LE ;
                   IF {} { PUSH string "GREATER_THAN_MAX" ; FAILWITH } ;
                   DUP ;
                   GET 11 ;
                   PUSH bool True ;
                   COMPARE ;
                   EQ ;
                   IF
                     { DUP ; GET 14 ; SENDER ; MEM ; IF {} { PUSH string "NOT_WHITELISTED" ; FAILWITH } }
                     {} ;
                   PUSH mutez 1 ;
                   AMOUNT ;
                   EDIV ;
                   IF_NONE { UNIT ; FAILWITH } {} ;
                   CAR ;
                   PUSH mutez 1 ;
                   DUP 3 ;
                   GET 5 ;
                   GET 6 ;
                   EDIV ;
                   IF_NONE { UNIT ; FAILWITH } {} ;
                   CAR ;
                   DUP 3 ;
                   GET 5 ;
                   CAR ;
                   GET 4 ;
                   DIG 2 ;
                   MUL ;
                   EDIV ;
                   IF_NONE { PUSH int 230 ; FAILWITH } { CAR } ;
                   DUP ;
                   INT ;
                   DIG 2 ;
                   DUP ;
                   CAR ;
                   GET 9 ;
                   SWAP ;
                   DUP ;
                   DUG 4 ;
                   CAR ;
                   GET 5 ;
                   CDR ;
                   SUB ;
                   COMPARE ;
                   GE ;
                   IF {} { PUSH string "NEED_MORE_THAN_ZERO" ; FAILWITH } ;
                   SWAP ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   DUP ;
                   GET 3 ;
                   DUP 7 ;
                   ADD ;
                   UPDATE 3 ;
                   DUP ;
                   GET 4 ;
                   AMOUNT ;
                   ADD ;
                   UPDATE 4 ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   MEM ;
                   IF
                     {}
                     { SWAP ;
                       UNPAIR ;
                       UNPAIR ;
                       UNPAIR ;
                       SWAP ;
                       UNPAIR ;
                       SWAP ;
                       DUP ;
                       CDR ;
                       PUSH (option (pair
                                  (pair (map nat (pair (pair nat mutez) (pair bool timestamp)))
                                        (pair mutez nat))
                                  (pair bool (pair mutez nat)))) (Some (Pair (Pair {} (Pair 0 0)) (Pair False (Pair 0 0)))) ;
                       SENDER ;
                       UPDATE ;
                       UPDATE 2 ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       SWAP } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   GET 6 ;
                   SENDER ;
                   GET ;
                   IF_NONE { PUSH int 539 ; FAILWITH } {} ;
                   CAR ;
                   GET 4 ;
                   DIG 2 ;
                   UNPAIR ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 542 ; FAILWITH } {} ;
                   UNPAIR ;
                   UNPAIR ;
                   NOW ;
                   PUSH bool False ;
                   PAIR ;
                   AMOUNT ;
                   DIG 13 ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   DIG 11 ;
                   UPDATE ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 543 ; FAILWITH } {} ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   SWAP ;
                   PUSH nat 1 ;
                   ADD ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CAR ;
                   PUSH bool True ;
                   SENDER ;
                   UPDATE ;
                   UPDATE 1 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 244 ; FAILWITH } {} ;
                   DUP ;
                   GET 5 ;
                   AMOUNT ;
                   ADD ;
                   UPDATE 5 ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   DUP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { PUSH int 245 ; FAILWITH } {} ;
                   UNPAIR ;
                   UNPAIR ;
                   SWAP ;
                   UNPAIR ;
                   AMOUNT ;
                   ADD ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   UPDATE 2 ;
                   SWAP ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   NIL operation }
                 { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   SENDER ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "NOT_ADMIN" ; FAILWITH } ;
                   NIL operation ;
                   DUP 3 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CONTRACT unit ;
                   IF_NONE { PUSH string "CANT_SEND" ; FAILWITH } {} ;
                   BALANCE ;
                   UNIT ;
                   TRANSFER_TOKENS ;
                   CONS ;
                   DUP 3 ;
                   GET 5 ;
                   CAR ;
                   GET 3 ;
                   CONTRACT %transfer (list (pair address (list (pair address (pair nat nat))))) ;
                   IF_NONE { PUSH int 498 ; FAILWITH } {} ;
                   PUSH mutez 0 ;
                   NIL (pair address (list (pair address (pair nat nat)))) ;
                   NIL (pair address (pair nat nat)) ;
                   DIG 5 ;
                   DIG 6 ;
                   DUP ;
                   GET 5 ;
                   CAR ;
                   CAR ;
                   SWAP ;
                   DUP ;
                   DUG 8 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   PAIR 3 ;
                   CONS ;
                   SELF_ADDRESS ;
                   PAIR ;
                   CONS ;
                   TRANSFER_TOKENS ;
                   CONS } }
             { IF_LEFT
                 { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CAR ;
                   SENDER ;
                   COMPARE ;
                   EQ ;
                   IF {} { PUSH string "NOT_ADMIN" ; FAILWITH } ;
                   DUP ;
                   ITER { DIG 2 ; DUP ; GET 10 ; DUP ; GET 3 ; PUSH bool True ; DIG 4 ; UPDATE ; UPDATE 3 ; UPDATE 10 ; SWAP } ;
                   DROP ;
                   NIL operation }
                 { IF_LEFT
                     { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       CAR ;
                       CAR ;
                       SENDER ;
                       COMPARE ;
                       EQ ;
                       IF {} { PUSH string "NOT_ADMIN" ; FAILWITH } ;
                       PUSH bool True ;
                       DUP 3 ;
                       GET 11 ;
                       COMPARE ;
                       EQ ;
                       IF {} { PUSH string "PUBLIC_SALE_NOT_WHITELISTED" ; FAILWITH } ;
                       DUP ;
                       ITER { DIG 2 ;
                              DUP ;
                              GET 10 ;
                              DUP ;
                              GET 4 ;
                              PUSH bool True ;
                              DIG 4 ;
                              UPDATE ;
                              UPDATE 4 ;
                              UPDATE 10 ;
                              SWAP } ;
                       DROP ;
                       NIL operation }
                     { PUSH nat 2 ;
                       DUP 3 ;
                       GET 3 ;
                       CAR ;
                       CDR ;
                       COMPARE ;
                       EQ ;
                       IF {} { PUSH string "WRONG_STATUS" ; FAILWITH } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       GET 5 ;
                       SENDER ;
                       MEM ;
                       IF {} { PUSH string "NOT_PARTICIPATED" ; FAILWITH } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       GET 3 ;
                       GET 3 ;
                       GET 4 ;
                       NOW ;
                       COMPARE ;
                       GT ;
                       IF {} { PUSH string "NOT_UNLOCKED" ; FAILWITH } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       GET 7 ;
                       SENDER ;
                       MEM ;
                       IF
                         { DROP }
                         { SWAP ;
                           DUP ;
                           DUG 2 ;
                           CAR ;
                           CAR ;
                           GET 6 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 320 ; FAILWITH } {} ;
                           CAR ;
                           GET 4 ;
                           PUSH nat 0 ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           PUSH nat 0 ;
                           DUP ;
                           DUP 3 ;
                           COMPARE ;
                           GT ;
                           LOOP { DUP 6 ;
                                  CAR ;
                                  CAR ;
                                  GET 6 ;
                                  SENDER ;
                                  GET ;
                                  IF_NONE { PUSH int 324 ; FAILWITH } {} ;
                                  CAR ;
                                  CAR ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  GET ;
                                  IF_NONE { PUSH int 324 ; FAILWITH } {} ;
                                  CAR ;
                                  CAR ;
                                  DIG 3 ;
                                  ADD ;
                                  DUG 2 ;
                                  DIG 5 ;
                                  UNPAIR ;
                                  UNPAIR ;
                                  UNPAIR ;
                                  SWAP ;
                                  UNPAIR ;
                                  SWAP ;
                                  DUP ;
                                  CDR ;
                                  DUP ;
                                  SENDER ;
                                  DUP ;
                                  DUG 2 ;
                                  GET ;
                                  IF_NONE { PUSH int 325 ; FAILWITH } {} ;
                                  UNPAIR ;
                                  UNPAIR ;
                                  DUP ;
                                  DUP 12 ;
                                  DUP ;
                                  DUG 2 ;
                                  GET ;
                                  IF_NONE { PUSH int 325 ; FAILWITH } {} ;
                                  PUSH bool True ;
                                  UPDATE 3 ;
                                  SOME ;
                                  SWAP ;
                                  UPDATE ;
                                  PAIR ;
                                  PAIR ;
                                  SOME ;
                                  SWAP ;
                                  UPDATE ;
                                  UPDATE 2 ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  PAIR ;
                                  PAIR ;
                                  DUG 5 ;
                                  PUSH nat 1 ;
                                  ADD ;
                                  DUP ;
                                  DUP 3 ;
                                  COMPARE ;
                                  GT } ;
                           DROP 2 ;
                           SWAP ;
                           DROP ;
                           SWAP ;
                           DROP ;
                           SWAP ;
                           DUP ;
                           GET 7 ;
                           DIG 2 ;
                           PUSH nat 0 ;
                           DUP ;
                           PAIR 3 ;
                           SOME ;
                           SENDER ;
                           UPDATE ;
                           UPDATE 7 } ;
                       DUP ;
                       GET 3 ;
                       GET 4 ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       GET 3 ;
                       GET 3 ;
                       GET 4 ;
                       NOW ;
                       SUB ;
                       ISNAT ;
                       IF_NONE { PUSH int 335 ; FAILWITH } {} ;
                       EDIV ;
                       IF_NONE { PUSH int 335 ; FAILWITH } { CAR } ;
                       DUP ;
                       PUSH nat 6 ;
                       COMPARE ;
                       LT ;
                       IF { DROP ; PUSH nat 6 } {} ;
                       PUSH nat 0 ;
                       DUP 3 ;
                       GET 7 ;
                       SENDER ;
                       GET ;
                       IF_NONE { PUSH int 342 ; FAILWITH } {} ;
                       CAR ;
                       PUSH nat 600 ;
                       DUP 5 ;
                       GET 7 ;
                       SENDER ;
                       GET ;
                       IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                       GET 4 ;
                       DUP 5 ;
                       PUSH nat 50 ;
                       MUL ;
                       MUL ;
                       EDIV ;
                       IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                       PUSH nat 2 ;
                       DUP 6 ;
                       GET 7 ;
                       SENDER ;
                       GET ;
                       IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                       GET 4 ;
                       EDIV ;
                       IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                       ADD ;
                       SUB ;
                       ISNAT ;
                       IF_NONE { PUSH int 346 ; FAILWITH } {} ;
                       COMPARE ;
                       GT ;
                       IF
                         { NIL operation ;
                           DUP 3 ;
                           GET 5 ;
                           CAR ;
                           GET 3 ;
                           CONTRACT %transfer (list (pair address
                                                         (list (pair address (pair nat nat))))) ;
                           IF_NONE { PUSH int 498 ; FAILWITH } {} ;
                           PUSH mutez 0 ;
                           NIL (pair address (list (pair address (pair nat nat)))) ;
                           NIL (pair address (pair nat nat)) ;
                           DUP 7 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 342 ; FAILWITH } {} ;
                           CAR ;
                           PUSH nat 600 ;
                           DUP 9 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                           GET 4 ;
                           DUP 9 ;
                           PUSH nat 50 ;
                           MUL ;
                           MUL ;
                           EDIV ;
                           IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                           PUSH nat 2 ;
                           DUP 10 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                           GET 4 ;
                           EDIV ;
                           IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                           ADD ;
                           SUB ;
                           ISNAT ;
                           IF_NONE { PUSH int 346 ; FAILWITH } {} ;
                           DUP 8 ;
                           GET 5 ;
                           CAR ;
                           CAR ;
                           SENDER ;
                           PAIR 3 ;
                           CONS ;
                           SELF_ADDRESS ;
                           PAIR ;
                           CONS ;
                           TRANSFER_TOKENS ;
                           CONS ;
                           DUP 3 ;
                           DUP ;
                           GET 7 ;
                           DUP ;
                           SENDER ;
                           DUP ;
                           DUG 2 ;
                           GET ;
                           IF_NONE { PUSH int 362 ; FAILWITH } {} ;
                           DUP ;
                           CAR ;
                           DUP 8 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 342 ; FAILWITH } {} ;
                           CAR ;
                           PUSH nat 600 ;
                           DUP 10 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                           GET 4 ;
                           DIG 9 ;
                           PUSH nat 50 ;
                           MUL ;
                           MUL ;
                           EDIV ;
                           IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                           PUSH nat 2 ;
                           DIG 9 ;
                           GET 7 ;
                           SENDER ;
                           GET ;
                           IF_NONE { PUSH int 341 ; FAILWITH } {} ;
                           GET 4 ;
                           EDIV ;
                           IF_NONE { PUSH int 345 ; FAILWITH } { CAR } ;
                           ADD ;
                           SUB ;
                           ISNAT ;
                           IF_NONE { PUSH int 346 ; FAILWITH } {} ;
                           ADD ;
                           UPDATE 1 ;
                           SOME ;
                           SWAP ;
                           UPDATE ;
                           UPDATE 7 ;
                           SWAP }
                         { PUSH string "NO_NEW_REWARD" ; FAILWITH } } } } } ;
       NIL operation ;
       SWAP ;
       ITER { CONS } ;
       PAIR }